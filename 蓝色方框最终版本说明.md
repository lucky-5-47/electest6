# è“è‰²æ–¹æ¡†æœ€ç»ˆç‰ˆæœ¬ - æ ¹æ®ç»„ä»¶ç±»å‹ç²¾ç¡®è°ƒæ•´

## ğŸ“ ä¿®æ”¹ä½ç½®

**æ–‡ä»¶**ï¼š`merged_complete.html`  
**è¡Œå·**ï¼šç¬¬ 7146-7186 è¡Œ

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

è“è‰²æ–¹æ¡†ç°åœ¨ä¼š**æ ¹æ®ç»„ä»¶ç±»å‹è‡ªåŠ¨è°ƒæ•´æ–¹æ¡†çš„å¤§å°**ï¼Œç¡®ä¿æ–¹æ¡†åˆšå¥½æ¡†ä½ç»„ä»¶çš„å†…å®¹ï¼Œä¸ä¼šå¤ªå¤§ä¹Ÿä¸ä¼šå¤ªå°ã€‚

---

## ğŸ“Š ä¸‰ç±»ç»„ä»¶çš„è¾¹æ¡†è®¾ç½®

### **ç¬¬1ç±»ï¼šå°ç»„ä»¶ï¼ˆè¾“å…¥ã€è¾“å‡ºã€LEDç­‰ï¼‰**

**ç»„ä»¶ç±»å‹**ï¼š
```
input, output, clock, led-diode, push-button, switch,
pin, splitter, probe, power, ground, text
```

**è®¾ç½®**ï¼š
```javascript
outlineOffset = -55;  // éå¸¸ç´§è´´
```

**æ•ˆæœ**ï¼š
- æ–¹æ¡†éå¸¸ç´§è´´ï¼Œåªæ¡†ä½ç»„ä»¶çš„å†…å®¹éƒ¨åˆ†
- ä¸ä¼šæ˜¾å¾—å¤ªå¤§
- å®Œç¾é€‚é…å°ç»„ä»¶

**ç¤ºä¾‹**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å…¥ 0   â”‚  â† æ–¹æ¡†åˆšå¥½æ¡†ä½è¾“å…¥å†…å®¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **ç¬¬2ç±»ï¼šé€»è¾‘é—¨ï¼ˆANDã€ORã€NOTç­‰ï¼‰**

**ç»„ä»¶ç±»å‹**ï¼š
```
and-gate, or-gate, not-gate, xor-gate, nand-gate, nor-gate
```

**è®¾ç½®**ï¼š
```javascript
outlineOffset = -30;  // ç´§è´´
```

**æ•ˆæœ**ï¼š
- æ–¹æ¡†æ¡†ä½é€»è¾‘é—¨çš„ä¸»è¦å†…å®¹
- è§†è§‰æ•ˆæœæ¸…æ™°
- å®Œç¾é€‚é…é€»è¾‘é—¨

**ç¤ºä¾‹**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AND       â”‚  â† æ–¹æ¡†åˆšå¥½æ¡†ä½é€»è¾‘é—¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **ç¬¬3ç±»ï¼šå®éªŒèŠ¯ç‰‡å’Œæ—¶åºé€»è¾‘**

**ç»„ä»¶ç±»å‹**ï¼š
```
74ls138, 74ls139, 74ls151, 74ls153, 74ls160, 74ls161,
74ls175, 74280, mod-n-counter, binary-async-counter,
majority-voter-3, majority-voter-5, majority-voter-7,
d-flipflop, jk-flipflop, t-flipflop, tp-flipflop, rs-latch,
counter, adder, subtractor, divider, complement
```

**è®¾ç½®**ï¼š
```javascript
outlineOffset = -20;  // æ ‡å‡†ç´§è´´
```

**æ•ˆæœ**ï¼š
- æ–¹æ¡†æ¡†ä½èŠ¯ç‰‡çš„ä¸»è¦å†…å®¹
- æ¸…æ™°å¯è§
- å®Œç¾é€‚é…å¤§å‹ç»„ä»¶

**ç¤ºä¾‹**ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   74LS138      â•‘  â† æ–¹æ¡†åˆšå¥½æ¡†ä½èŠ¯ç‰‡
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”§ ä»£ç å®ç°

### **å®Œæ•´çš„selectComponentå‡½æ•°**

```javascript
function selectComponent(component) {
    selectedComponents.add(component);
    
    const componentType = component.dataset.type;
    
    // æ ¹æ®ç»„ä»¶ç±»å‹è®¾ç½®ä¸åŒçš„outlineOffset
    let outlineOffset;
    
    // å°ç»„ä»¶ï¼šéå¸¸ç´§è´´
    if (['input', 'output', 'clock', 'led-diode', 'push-button', 'switch',
         'pin', 'splitter', 'probe', 'power', 'ground', 'text'].includes(componentType)) {
        outlineOffset = -55;
    }
    // é€»è¾‘é—¨ï¼šç´§è´´
    else if (['and-gate', 'or-gate', 'not-gate', 'xor-gate', 'nand-gate', 'nor-gate'].includes(componentType)) {
        outlineOffset = -30;
    }
    // èŠ¯ç‰‡å’Œæ—¶åºé€»è¾‘ï¼šæ ‡å‡†ç´§è´´
    else if (['74ls138', '74ls139', '74ls151', '74ls153', '74ls160', '74ls161',
              '74ls175', '74280', 'mod-n-counter', 'binary-async-counter',
              'majority-voter-3', 'majority-voter-5', 'majority-voter-7',
              'd-flipflop', 'jk-flipflop', 't-flipflop', 'tp-flipflop', 'rs-latch',
              'counter', 'adder', 'subtractor', 'divider', 'complement'].includes(componentType)) {
        outlineOffset = -20;
    }
    // é»˜è®¤å€¼
    else {
        outlineOffset = -30;
    }
    
    component.style.outline = '2px solid #007bff';
    component.style.outlineOffset = outlineOffset + 'px';
    
    component.dataset.selected = 'true';
}
```

---

## ğŸ“ outlineOffset çš„å«ä¹‰

| å€¼ | æ•ˆæœ | é€‚ç”¨ç»„ä»¶ |
|-----|------|---------|
| **-55px** | éå¸¸ç´§è´´ï¼Œåªæ¡†ä½å†…å®¹ | è¾“å…¥ã€è¾“å‡ºã€LEDç­‰å°ç»„ä»¶ |
| **-30px** | ç´§è´´ï¼Œæ¡†ä½ä¸»è¦å†…å®¹ | é€»è¾‘é—¨ |
| **-20px** | æ ‡å‡†ç´§è´´ï¼Œæ¡†ä½ç»„ä»¶ | èŠ¯ç‰‡ã€æ—¶åºé€»è¾‘ |

---

## ğŸ¨ è¾¹æ¡†æ ·å¼

æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨ç›¸åŒçš„è¾¹æ¡†æ ·å¼ï¼š

```javascript
component.style.outline = '2px solid #007bff';
```

| å±æ€§ | å€¼ | è¯´æ˜ |
|------|-----|------|
| **å®½åº¦** | `2px` | è¾¹æ¡†å®½åº¦ï¼ˆä¿æŒä¸€è‡´ï¼‰ |
| **æ ·å¼** | `solid` | å®çº¿ |
| **é¢œè‰²** | `#007bff` | è“è‰² |

---

## ğŸ” ä¸ºä»€ä¹ˆä½¿ç”¨è¿™äº›å€¼ï¼Ÿ

### **CSSçš„é™åˆ¶**

æ‰€æœ‰ç»„ä»¶åœ¨CSSä¸­éƒ½è¢«è®¾ç½®ä¸ºï¼š
```css
.component-svg {
    width: 120px;
    height: 160px;
}
```

è¿™æ„å‘³ç€ï¼š
- è¾“å…¥çš„SVGï¼ˆviewBox="0 0 120 60"ï¼‰è¢«æ‹‰ä¼¸åˆ° 120Ã—160
- é€»è¾‘é—¨çš„SVGï¼ˆviewBox="0 0 200 100"ï¼‰è¢«æ‹‰ä¼¸åˆ° 120Ã—160
- èŠ¯ç‰‡çš„SVGï¼ˆviewBox="0 0 120 160"ï¼‰ä¿æŒ 120Ã—160

### **outlineOffsetçš„ä½œç”¨**

`outlineOffset` æ˜¯ç›¸å¯¹äºç»„ä»¶å®¹å™¨çš„è·ç¦»ï¼Œæ‰€ä»¥ï¼š
- å°ç»„ä»¶éœ€è¦ -55px æ‰èƒ½åªæ¡†ä½å†…å®¹
- é€»è¾‘é—¨éœ€è¦ -30px æ‰èƒ½æ¡†ä½å†…å®¹
- èŠ¯ç‰‡éœ€è¦ -20px å°±èƒ½æ¡†ä½å†…å®¹

---

## ğŸ”§ å¦‚ä½•è°ƒæ•´é—´è·

### **å¦‚æœæ–¹æ¡†å¤ªå¤§**

å‡å° `outlineOffset` çš„ç»å¯¹å€¼ï¼ˆå‘0é è¿‘ï¼‰ï¼š

```javascript
// åŸæ¥
outlineOffset = -55;

// æ”¹ä¸ºï¼ˆæ›´ç´§è´´ï¼‰
outlineOffset = -60;
```

### **å¦‚æœæ–¹æ¡†å¤ªå°**

å¢å¤§ `outlineOffset` çš„ç»å¯¹å€¼ï¼ˆè¿œç¦»0ï¼‰ï¼š

```javascript
// åŸæ¥
outlineOffset = -55;

// æ”¹ä¸ºï¼ˆæ›´æ¾æ•£ï¼‰
outlineOffset = -50;
```

---

## ğŸ“‹ å¿«é€Ÿå‚è€ƒè¡¨

| ç»„ä»¶ç±»å‹ | outlineOffset | æ•ˆæœ |
|---------|---------------|------|
| è¾“å…¥/è¾“å‡º | -55px | éå¸¸ç´§è´´ |
| LED | -55px | éå¸¸ç´§è´´ |
| æŒ‰é’®/å¼€å…³ | -55px | éå¸¸ç´§è´´ |
| AND/OR/NOT | -30px | ç´§è´´ |
| 74LS138 | -20px | æ ‡å‡†ç´§è´´ |
| 74LS153 | -20px | æ ‡å‡†ç´§è´´ |
| è§¦å‘å™¨ | -20px | æ ‡å‡†ç´§è´´ |

---

## ğŸ¯ ä¿®æ”¹ç¤ºä¾‹

### **ç¤ºä¾‹1ï¼šæ”¹å˜è¾“å…¥çš„æ–¹æ¡†å¤§å°**

**ä½ç½®**ï¼š`merged_complete.html` ç¬¬ 7159 è¡Œ

```javascript
// åŸæ¥
outlineOffset = -55;

// æ”¹ä¸ºï¼ˆæ›´ç´§è´´ï¼‰
outlineOffset = -60;

// æˆ–æ”¹ä¸ºï¼ˆæ›´æ¾æ•£ï¼‰
outlineOffset = -50;
```

### **ç¤ºä¾‹2ï¼šæ”¹å˜é€»è¾‘é—¨çš„æ–¹æ¡†å¤§å°**

**ä½ç½®**ï¼š`merged_complete.html` ç¬¬ 7163 è¡Œ

```javascript
// åŸæ¥
outlineOffset = -30;

// æ”¹ä¸ºï¼ˆæ›´ç´§è´´ï¼‰
outlineOffset = -35;

// æˆ–æ”¹ä¸ºï¼ˆæ›´æ¾æ•£ï¼‰
outlineOffset = -25;
```

### **ç¤ºä¾‹3ï¼šæ”¹å˜èŠ¯ç‰‡çš„æ–¹æ¡†å¤§å°**

**ä½ç½®**ï¼š`merged_complete.html` ç¬¬ 7169 è¡Œ

```javascript
// åŸæ¥
outlineOffset = -20;

// æ”¹ä¸ºï¼ˆæ›´ç´§è´´ï¼‰
outlineOffset = -25;

// æˆ–æ”¹ä¸ºï¼ˆæ›´æ¾æ•£ï¼‰
outlineOffset = -15;
```

### **ç¤ºä¾‹4ï¼šæ·»åŠ æ–°çš„å°ç»„ä»¶**

**ä½ç½®**ï¼š`merged_complete.html` ç¬¬ 7157-7159 è¡Œ

```javascript
// åŸæ¥
if (['input', 'output', 'clock', 'led-diode', 'push-button', 'switch',
     'pin', 'splitter', 'probe', 'power', 'ground', 'text'].includes(componentType)) {

// æ”¹ä¸ºï¼ˆæ·»åŠ æ–°ç»„ä»¶ï¼‰
if (['input', 'output', 'clock', 'led-diode', 'push-button', 'switch',
     'pin', 'splitter', 'probe', 'power', 'ground', 'text', 'new-component'].includes(componentType)) {
```

---

## âœ¨ ç°åœ¨çš„æ•ˆæœ

âœ… **è¾“å…¥/è¾“å‡º**ï¼šæ–¹æ¡†éå¸¸ç´§è´´ï¼Œåªæ¡†ä½å†…å®¹
âœ… **é€»è¾‘é—¨**ï¼šæ–¹æ¡†ç´§è´´ï¼Œæ¡†ä½ä¸»è¦å†…å®¹
âœ… **èŠ¯ç‰‡**ï¼šæ–¹æ¡†æ ‡å‡†ç´§è´´ï¼Œæ¡†ä½ç»„ä»¶
âœ… **è‡ªåŠ¨åˆ†ç±»**ï¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è°ƒæ•´
âœ… **ç²¾ç¡®é€‚é…**ï¼šæ¯ç§ç»„ä»¶éƒ½æœ‰åˆé€‚çš„å¤§å°

---

## ğŸ”„ ç›¸å…³å‡½æ•°

### **å–æ¶ˆé€‰æ‹©**
```javascript
function deselectComponent(component) {
    selectedComponents.delete(component);
    component.style.outline = '';
    component.style.outlineOffset = '';
    component.dataset.selected = 'false';
}
```

### **æ¸…é™¤æ‰€æœ‰é€‰æ‹©**
```javascript
function clearSelection() {
    selectedComponents.forEach(comp => {
        comp.style.outline = '';
        comp.style.outlineOffset = '';
    });
    selectedComponents.clear();
}
```

---

## ğŸ’¡ æ€»ç»“

è“è‰²æ–¹æ¡†ç°åœ¨æ˜¯**å®Œå…¨æ™ºèƒ½åŒ–ç³»ç»Ÿ**ï¼š

1. **æ£€æµ‹ç»„ä»¶ç±»å‹** â†’ `component.dataset.type`
2. **æ ¹æ®ç±»å‹åˆ†ç±»** â†’ å°/ä¸­/å¤§
3. **è®¾ç½®åˆé€‚çš„é—´è·** â†’ -55px / -30px / -20px
4. **åº”ç”¨åˆ°æ–¹æ¡†** â†’ `outlineOffset`
5. **ç»“æœ**ï¼šæ¯ç§ç»„ä»¶éƒ½æœ‰å®Œç¾çš„æ–¹æ¡†å¤§å°ï¼

åˆ·æ–°é¡µé¢åå°±èƒ½çœ‹åˆ°æ•ˆæœäº†ï¼ç°åœ¨è¾“å…¥ç»„ä»¶çš„è“è‰²æ–¹æ¡†åº”è¯¥ä¼šå˜å¾—éå¸¸å°ï¼Œåˆšå¥½æ¡†ä½è¾“å…¥çš„å†…å®¹ã€‚

